-- This CLP file was created using DB2LOOK Version 7.2
-- Timestamp: Sun Jul 21 21:49:09 EDT 2002
-- Database Name: MDSETUP        
-- Database Manager Version: DB2/6000 Version 7.2.3        
-- Database Codepage: 819


CONNECT TO MDSETUP;



------------------------------------------------
-- DDL Statements for table "EXPERIMENT"."SYSTEM_CLASS"
------------------------------------------------
 
 CREATE TABLE "EXPERIMENT"."SYSTEM_CLASS"  (
		  "SYS_CLASS" VARCHAR(60) NOT NULL )   
		 IN "MDSHORT" ; 

-- DDL Statements for primary key on Table "EXPERIMENT"."SYSTEM_CLASS"

ALTER TABLE "EXPERIMENT"."SYSTEM_CLASS" 
	ADD PRIMARY KEY
		("SYS_CLASS");



------------------------------------------------
-- DDL Statements for table "EXPERIMENT"."CTP_TABLE"
------------------------------------------------
 
 CREATE TABLE "EXPERIMENT"."CTP_TABLE"  (
		  "CTP_ID" INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY ( START WITH +0 , INCREMENT BY +1 , CACHE 20 ) , 
		  "FILENAME" VARCHAR(40) NOT NULL , 
		  "DESC" VARCHAR(100) , 
		  "CREATOR" VARCHAR(30) NOT NULL , 
		  "CREATED" TIMESTAMP NOT NULL )   
		 IN "MDSHORT" ; 

-- DDL Statements for primary key on Table "EXPERIMENT"."CTP_TABLE"

ALTER TABLE "EXPERIMENT"."CTP_TABLE" 
	ADD PRIMARY KEY
		("CTP_ID");



------------------------------------------------
-- DDL Statements for table "EXPERIMENT"."VOCAB"
------------------------------------------------
 
 CREATE TABLE "EXPERIMENT"."VOCAB"  (
		  "NAME" VARCHAR(100) NOT NULL , 
		  "DESC" VARCHAR(200) , 
		  "ATTRIBUTE" VARCHAR(60) )   
		 IN "MDSHORT" ; 

-- DDL Statements for primary key on Table "EXPERIMENT"."VOCAB"

ALTER TABLE "EXPERIMENT"."VOCAB" 
	ADD PRIMARY KEY
		("NAME");



------------------------------------------------
-- DDL Statements for table "EXPERIMENT"."CT_PARAMS"
------------------------------------------------
 
 CREATE TABLE "EXPERIMENT"."CT_PARAMS"  (
		  "CTP_ID" INTEGER NOT NULL , 
		  "NAME" VARCHAR(100) NOT NULL , 
		  "VALUE" VARCHAR(200) NOT NULL , 
		  "TYPE" VARCHAR(20) )   
		 IN "MDSHORT" ; 

-- DDL Statements for primary key on Table "EXPERIMENT"."CT_PARAMS"

ALTER TABLE "EXPERIMENT"."CT_PARAMS" 
	ADD PRIMARY KEY
		("CTP_ID",
		 "NAME");



------------------------------------------------
-- DDL Statements for table "EXPERIMENT"."SYSTEM_SOURCE"
------------------------------------------------
 
 CREATE TABLE "EXPERIMENT"."SYSTEM_SOURCE"  (
		  "SOURCE_ID" INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY ( START WITH +0 , INCREMENT BY +1 , CACHE 20 ) , 
		  "SYS_ID" INTEGER NOT NULL , 
		  "CTP_ID" INTEGER NOT NULL )   
		 IN "MDSHORT" ; 

-- DDL Statements for primary key on Table "EXPERIMENT"."SYSTEM_SOURCE"

ALTER TABLE "EXPERIMENT"."SYSTEM_SOURCE" 
	ADD PRIMARY KEY
		("SOURCE_ID");



------------------------------------------------
-- DDL Statements for table "EXPERIMENT"."COMPILER"
------------------------------------------------
 
 CREATE TABLE "EXPERIMENT"."COMPILER"  (
		  "COMPILER_ID" INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY ( START WITH +0 , INCREMENT BY +1 , CACHE 20 ) , 
		  "FAMILY" VARCHAR(60) NOT NULL , 
		  "VERSION" VARCHAR(2000) NOT NULL )   
		 IN "MDSHORT" ; 

-- DDL Statements for primary key on Table "EXPERIMENT"."COMPILER"

ALTER TABLE "EXPERIMENT"."COMPILER" 
	ADD PRIMARY KEY
		("COMPILER_ID");



------------------------------------------------
-- DDL Statements for table "EXPERIMENT"."PROBSPEC"
------------------------------------------------
 
 CREATE TABLE "EXPERIMENT"."PROBSPEC"  (
		  "PROBSPEC_VERSION" INTEGER NOT NULL , 
		  "TAG" VARCHAR(200) NOT NULL )   
		 IN "MDSHORT" ; 

-- DDL Statements for primary key on Table "EXPERIMENT"."PROBSPEC"

ALTER TABLE "EXPERIMENT"."PROBSPEC" 
	ADD PRIMARY KEY
		("PROBSPEC_VERSION");



------------------------------------------------
-- DDL Statements for table "EXPERIMENT"."PLATFORM"
------------------------------------------------
 
 CREATE TABLE "EXPERIMENT"."PLATFORM"  (
		  "PLATFORM_ID" INTEGER NOT NULL , 
		  "HARDWARE" VARCHAR(50) NOT NULL , 
		  "OS_FAMILY" VARCHAR(50) NOT NULL , 
		  "OS_VERSION" VARCHAR(50) NOT NULL )   
		 IN "MDSHORT" ; 

-- DDL Statements for primary key on Table "EXPERIMENT"."PLATFORM"

ALTER TABLE "EXPERIMENT"."PLATFORM" 
	ADD PRIMARY KEY
		("PLATFORM_ID");



------------------------------------------------
-- DDL Statements for table "EXPERIMENT"."RTP_TABLE"
------------------------------------------------
 
 CREATE TABLE "EXPERIMENT"."RTP_TABLE"  (
		  "RTP_ID" INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY ( START WITH +0 , INCREMENT BY +1 , CACHE 20 ) , 
		  "FILENAME" VARCHAR(40) NOT NULL , 
		  "DESC" VARCHAR(60) NOT NULL , 
		  "CREATOR" VARCHAR(30) NOT NULL , 
		  "CREATED" TIMESTAMP NOT NULL )   
		 IN "MDSHORT" ; 

-- DDL Statements for primary key on Table "EXPERIMENT"."RTP_TABLE"

ALTER TABLE "EXPERIMENT"."RTP_TABLE" 
	ADD PRIMARY KEY
		("RTP_ID");



------------------------------------------------
-- DDL Statements for table "EXPERIMENT"."RT_PARAMS"
------------------------------------------------
 
 CREATE TABLE "EXPERIMENT"."RT_PARAMS"  (
		  "RTP_ID" INTEGER NOT NULL , 
		  "NAME" VARCHAR(100) NOT NULL , 
		  "VALUE" VARCHAR(200) NOT NULL )   
		 IN "MDSHORT" ; 

-- DDL Statements for primary key on Table "EXPERIMENT"."RT_PARAMS"

ALTER TABLE "EXPERIMENT"."RT_PARAMS" 
	ADD PRIMARY KEY
		("RTP_ID",
		 "NAME");



------------------------------------------------
-- DDL Statements for table "EXPERIMENT"."SNAPSHOT"
------------------------------------------------
 
 CREATE TABLE "EXPERIMENT"."SNAPSHOT"  (
		  "RUN_ID" INTEGER NOT NULL , 
		  "TIME_STEP" BIGINT NOT NULL , 
		  "SNAPSHOT" BLOB(2097152) LOGGED NOT COMPACT NOT NULL )   
		 IN "MDSHORT" LONG IN "MDLONG" ; 

-- DDL Statements for primary key on Table "EXPERIMENT"."SNAPSHOT"

ALTER TABLE "EXPERIMENT"."SNAPSHOT" 
	ADD PRIMARY KEY
		("RUN_ID",
		 "TIME_STEP");



------------------------------------------------
-- DDL Statements for table "EXPERIMENT"."COORDS_TABLE"
------------------------------------------------
 
 CREATE TABLE "EXPERIMENT"."COORDS_TABLE"  (
		  "COORD_ID" INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY ( START WITH +0 , INCREMENT BY +1 , CACHE 20 ) , 
		  "SYS_ID" INTEGER NOT NULL , 
		  "SOLVENT_MODEL" VARCHAR(60) NOT NULL , 
		  "SNAPSHOT" BLOB(2097152) NOT LOGGED COMPACT NOT NULL )   
		 IN "MDSHORT" LONG IN "MDLONG" ; 

-- DDL Statements for primary key on Table "EXPERIMENT"."COORDS_TABLE"

ALTER TABLE "EXPERIMENT"."COORDS_TABLE" 
	ADD PRIMARY KEY
		("COORD_ID");



------------------------------------------------
-- DDL Statements for table "EXPERIMENT"."RESTART_TABLE"
------------------------------------------------
 
 CREATE TABLE "EXPERIMENT"."RESTART_TABLE"  (
		  "RESTART_ID" INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY ( START WITH +0 , INCREMENT BY +1 , CACHE 20 ) , 
		  "SOURCE_ID" INTEGER NOT NULL , 
		  "RTP_ID" INTEGER NOT NULL , 
		  "RUN_ID" INTEGER , 
		  "TIME_STEP" BIGINT , 
		  "COORD_ID" INTEGER )   
		 IN "MDSHORT" ; 

-- DDL Statements for primary key on Table "EXPERIMENT"."RESTART_TABLE"

ALTER TABLE "EXPERIMENT"."RESTART_TABLE" 
	ADD PRIMARY KEY
		("RESTART_ID");



------------------------------------------------
-- DDL Statements for table "EXPERIMENT"."EXECUTABLE"
------------------------------------------------
 
 CREATE TABLE "EXPERIMENT"."EXECUTABLE"  (
		  "EXECUTABLE_ID" INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY ( START WITH +0 , INCREMENT BY +1 , CACHE 20 ) , 
		  "BUILDER" VARCHAR(50) NOT NULL , 
		  "BUILD_BEGIN" TIMESTAMP , 
		  "BUILD_END" TIMESTAMP , 
		  "PROBSPEC_VERSION" INTEGER , 
		  "SOURCE_ID" INTEGER NOT NULL , 
		  "BUILD_OPTS" VARCHAR(2000) NOT NULL , 
		  "PLATFORM_ID" INTEGER NOT NULL , 
		  "COMPILER_ID" INTEGER NOT NULL , 
		  "INSTALL_IMAGE_TAG" VARCHAR(100) NOT NULL , 
		  "INSTALL_IMAGE_PATH" VARCHAR(200) NOT NULL , 
		  "BUILD_MACHINE" VARCHAR(32) NOT NULL )   
		 IN "MDSHORT" ; 

-- DDL Statements for primary key on Table "EXPERIMENT"."EXECUTABLE"

ALTER TABLE "EXPERIMENT"."EXECUTABLE" 
	ADD PRIMARY KEY
		("EXECUTABLE_ID");



------------------------------------------------
-- DDL Statements for table "EXPERIMENT"."RUN"
------------------------------------------------
 
 CREATE TABLE "EXPERIMENT"."RUN"  (
		  "RUN_ID" INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY ( START WITH +0 , INCREMENT BY +1 , CACHE 20 ) , 
		  "EXECUTABLE_ID" INTEGER NOT NULL , 
		  "RESTART_ID" INTEGER NOT NULL , 
		  "WORKING_DIR" VARCHAR(100) NOT NULL , 
		  "RUN_MODE" VARCHAR(50) NOT NULL , 
		  "RUN_BEGIN" TIMESTAMP , 
		  "RUN_END" TIMESTAMP )   
		 IN "MDSHORT" ; 

-- DDL Statements for primary key on Table "EXPERIMENT"."RUN"

ALTER TABLE "EXPERIMENT"."RUN" 
	ADD PRIMARY KEY
		("RUN_ID");







-- DDL Statements for foreign keys on Table "EXPERIMENT"."CT_PARAMS"

ALTER TABLE "EXPERIMENT"."CT_PARAMS" 
	ADD CONSTRAINT "SQL020626202053760" FOREIGN KEY
		("CTP_ID")
	REFERENCES "EXPERIMENT"."CTP_TABLE"
		("CTP_ID")
	ON DELETE CASCADE
	ON UPDATE NO ACTION;

ALTER TABLE "EXPERIMENT"."CT_PARAMS" 
	ADD CONSTRAINT "SQL020626202053790" FOREIGN KEY
		("NAME")
	REFERENCES "EXPERIMENT"."VOCAB"
		("NAME")
	ON DELETE CASCADE
	ON UPDATE NO ACTION;


-- DDL Statements for foreign keys on Table "EXPERIMENT"."SYSTEM_SOURCE"

ALTER TABLE "EXPERIMENT"."SYSTEM_SOURCE" 
	ADD CONSTRAINT "SQL020626202054830" FOREIGN KEY
		("SYS_ID")
	REFERENCES "MDSYSTEM"."SYSTEM"
		("SYS_ID")
	ON DELETE CASCADE
	ON UPDATE NO ACTION;

ALTER TABLE "EXPERIMENT"."SYSTEM_SOURCE" 
	ADD CONSTRAINT "SQL020626202054870" FOREIGN KEY
		("CTP_ID")
	REFERENCES "EXPERIMENT"."CTP_TABLE"
		("CTP_ID")
	ON DELETE CASCADE
	ON UPDATE NO ACTION;






-- DDL Statements for foreign keys on Table "EXPERIMENT"."RT_PARAMS"

ALTER TABLE "EXPERIMENT"."RT_PARAMS" 
	ADD CONSTRAINT "SQL020626202100860" FOREIGN KEY
		("RTP_ID")
	REFERENCES "EXPERIMENT"."RTP_TABLE"
		("RTP_ID")
	ON DELETE CASCADE
	ON UPDATE NO ACTION;

ALTER TABLE "EXPERIMENT"."RT_PARAMS" 
	ADD CONSTRAINT "SQL020626202100890" FOREIGN KEY
		("NAME")
	REFERENCES "EXPERIMENT"."VOCAB"
		("NAME")
	ON DELETE CASCADE
	ON UPDATE NO ACTION;




-- DDL Statements for foreign keys on Table "EXPERIMENT"."RESTART_TABLE"

ALTER TABLE "EXPERIMENT"."RESTART_TABLE" 
	ADD CONSTRAINT "SQL020626202105370" FOREIGN KEY
		("SOURCE_ID")
	REFERENCES "EXPERIMENT"."SYSTEM_SOURCE"
		("SOURCE_ID")
	ON DELETE CASCADE
	ON UPDATE NO ACTION;

ALTER TABLE "EXPERIMENT"."RESTART_TABLE" 
	ADD CONSTRAINT "SQL020626202105390" FOREIGN KEY
		("RTP_ID")
	REFERENCES "EXPERIMENT"."RTP_TABLE"
		("RTP_ID")
	ON DELETE CASCADE
	ON UPDATE NO ACTION;

ALTER TABLE "EXPERIMENT"."RESTART_TABLE" 
	ADD CONSTRAINT "SQL020626202105400" FOREIGN KEY
		("COORD_ID")
	REFERENCES "EXPERIMENT"."COORDS_TABLE"
		("COORD_ID")
	ON DELETE CASCADE
	ON UPDATE NO ACTION;

ALTER TABLE "EXPERIMENT"."RESTART_TABLE" 
	ADD CONSTRAINT "SQL020626202105430" FOREIGN KEY
		("RUN_ID",
		 "TIME_STEP")
	REFERENCES "EXPERIMENT"."SNAPSHOT"
		("RUN_ID",
		 "TIME_STEP")
	ON DELETE CASCADE
	ON UPDATE NO ACTION;


-- DDL Statements for foreign keys on Table "EXPERIMENT"."EXECUTABLE"

ALTER TABLE "EXPERIMENT"."EXECUTABLE" 
	ADD CONSTRAINT "SQL020628172847610" FOREIGN KEY
		("PROBSPEC_VERSION")
	REFERENCES "EXPERIMENT"."PROBSPEC"
		("PROBSPEC_VERSION")
	ON DELETE CASCADE
	ON UPDATE NO ACTION;

ALTER TABLE "EXPERIMENT"."EXECUTABLE" 
	ADD CONSTRAINT "SQL020628172847640" FOREIGN KEY
		("COMPILER_ID")
	REFERENCES "EXPERIMENT"."COMPILER"
		("COMPILER_ID")
	ON DELETE CASCADE
	ON UPDATE NO ACTION;

ALTER TABLE "EXPERIMENT"."EXECUTABLE" 
	ADD CONSTRAINT "SQL020628172847670" FOREIGN KEY
		("PLATFORM_ID")
	REFERENCES "EXPERIMENT"."PLATFORM"
		("PLATFORM_ID")
	ON DELETE CASCADE
	ON UPDATE NO ACTION;

ALTER TABLE "EXPERIMENT"."EXECUTABLE" 
	ADD CONSTRAINT "SQL020628172847690" FOREIGN KEY
		("SOURCE_ID")
	REFERENCES "EXPERIMENT"."SYSTEM_SOURCE"
		("SOURCE_ID")
	ON DELETE CASCADE
	ON UPDATE NO ACTION;


-- DDL Statements for foreign keys on Table "EXPERIMENT"."RUN"

ALTER TABLE "EXPERIMENT"."RUN" 
	ADD CONSTRAINT "SQL020628172848720" FOREIGN KEY
		("EXECUTABLE_ID")
	REFERENCES "EXPERIMENT"."EXECUTABLE"
		("EXECUTABLE_ID")
	ON DELETE CASCADE
	ON UPDATE NO ACTION;

ALTER TABLE "EXPERIMENT"."RUN" 
	ADD CONSTRAINT "SQL020628172848750" FOREIGN KEY
		("RESTART_ID")
	REFERENCES "EXPERIMENT"."RESTART_TABLE"
		("RESTART_ID")
	ON DELETE CASCADE
	ON UPDATE NO ACTION;



COMMIT WORK;

CONNECT RESET;

TERMINATE;
